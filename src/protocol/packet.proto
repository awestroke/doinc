package protocol;

//option optimize_for = LITE_RUNTIME;

message Packet {
  enum FunctionCode {
    ERROR = 0;
    OK = 1;
    NS_REGISTER = 2;
    NS_REQUEST_NODE = 3;
    NODE = 4;
    NODE_LIST = 5;
    GET_NODES = 6;
    PING = 7;
    PONG = 8;
  }

  required FunctionCode code = 1;
  required int64 crc = 2;
  optional bytes data = 3;
}

message Node {
  required string addr = 1;
  required int32 port = 2;
}

message NodeList {
  repeated Node node = 1;
}
